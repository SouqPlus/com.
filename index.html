<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÿ≥ŸàŸÇ</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts: Cairo only (Normal Font) -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet">

    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        gold: {
                            50: '#F9F6E8',
                            100: '#F2E8C4',
                            400: '#D4AF37',
                            500: '#C5A059',
                            600: '#B08D55',
                            900: '#3E3116',
                        },
                        brandGreen: {
                            500: '#10B981',
                            600: '#059669',
                        }
                    },
                    fontFamily: {
                        sans: ['Cairo', 'sans-serif'],
                        serif: ['Cairo', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background: #e6e5e5;
            -webkit-tap-highlight-color: transparent;
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .slider-container {
            display: flex;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            height: 100%;
            width: 100%;
            background: #ffffff; 
            cursor: grab;
        }
        .slider-container:active {
            cursor: grabbing;
        }

        .slider-item {
            scroll-snap-align: center;
            flex-shrink: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            cursor: pointer;
            transition: transform 0.5s ease;
        }

        .arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.8);
            color: #D4AF37;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            cursor: pointer;
            z-index: 5;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(212, 175, 55, 0.2);
            user-select: none;
        }
        .arrow:hover {
            background: #fff;
            color: #B08D55;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        .arrow.left { left: 12px; }
        .arrow.right { right: 12px; }

        .dots {
            position: absolute;
            bottom: 12px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 6px;
            z-index: 5;
            background: rgba(0,0,0,0.4);
            backdrop-filter: blur(2px);
            padding: 4px 8px;
            border-radius: 20px;
        }
        .dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            transition: all 0.3s;
        }
        .dot.active {
            background: #D4AF37;
            transform: scale(1.3);
        }

        .counter {
            position: absolute;
            top: 12px;
            right: 12px;
            background: rgba(255, 255, 255, 0.9);
            color: #1a1a1a;
            font-size: 10px;
            padding: 3px 10px;
            border-radius: 2px;
            z-index: 5;
            font-weight: 700;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            letter-spacing: 1px;
        }

        #imgModal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(20, 20, 20, 0.95);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            backdrop-filter: blur(8px);
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>

<body class="pb-20 text-gray-800">

    <!-- Header -->
    <header class="bg-white/95 backdrop-blur-md sticky top-0 z-40 border-b border-gray-100 shadow-sm transition-all duration-300">
        <div class="container mx-auto max-w-5xl px-4 py-4 flex flex-col gap-4">

            <!-- Top Row -->
            <div class="flex items-center justify-between relative">
                <a href="https://wa.me/967783069725?text=ÿßŸÑÿ≥ŸÑÿßŸÖ ÿπŸÑŸäŸÉŸÖÿå ÿßÿ±ŸäÿØ  ŸÅŸä ÿ≥ŸàŸÇ ÿ®ŸÑÿ≥"
                   target="_blank"
                   class="bg-gradient-to-r from-gold-400 to-gold-600 text-white text-xs font-bold px-5 py-2.5 rounded-sm hover:shadow-lg hover:shadow-gold-400/30 transition-all duration-300 transform hover:-translate-y-0.5 tracking-wide">
                   + ÿ•ÿπŸÑÿßŸÜ ÿ¨ÿØŸäÿØ
                </a>

                <h1 class="absolute left-1/2 transform -translate-x-1/2 text-3xl font-extrabold tracking-wide flex items-center gap-1">
                    <span class="text-black">ÿ≥ŸàŸÇ</span>
                    <span class="text-brandGreen-500 text-4xl leading-none" style="transform: translateY(2px);">+</span>
                </h1>
                
                <div class="w-20"></div> 
            </div>

            <!-- Search Bar -->
            <div class="relative w-full group">
                <input id="searchInput" oninput="doSearch()" placeholder="ÿßÿ®ÿ≠ÿ´..."
                    class="w-full bg-gray-50 border border-gray-200 text-gray-700 rounded-sm py-3.5 px-12 outline-none focus:border-gold-400 focus:bg-white focus:ring-1 focus:ring-gold-400/50 transition-all duration-300 placeholder-gray-400 font-normal">
                <span class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gold-400 text-lg group-focus-within:text-gold-600 transition-colors">
                    üîç
                </span>
            </div>

        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto max-w-5xl px-4 mt-8">
        <!-- Categories (added) -->
        <div id="categories" class="flex flex-wrap gap-3 mb-6">
            <!-- Buttons will be generated automatically -->
        </div>

        <!-- No Results Message -->
        <div id="noResults" class="hidden text-center py-16">
            <div class="text-gold-300 text-5xl mb-4">‚ùñ</div>
            <p class="text-gray-400 text-lg">ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÜÿ™ÿßÿ¶ÿ¨ ÿ™ÿ∑ÿßÿ®ŸÇ ÿ®ÿ≠ÿ´ŸÉ</p>
        </div>
        
        <!-- Grid -->
        <div id="grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
            <!-- Products injected here -->
        </div>
    </main>

    <!-- Image Modal -->
    <div id="imgModal" onclick="closeModal()">
        <span class="absolute top-6 right-6 text-gold-400 hover:text-white transition-colors text-4xl font-bold cursor-pointer">√ó</span>
        <img id="modalContent" class="max-w-[90%] max-h-[85vh] rounded-sm shadow-2xl border border-gray-800">
    </div>

    <script>
        // Data
        const products = [
            {
                id: 1,
                title: "ÿ¢ŸäŸÅŸàŸÜ 15 ÿ®ÿ±Ÿà ŸÖÿßŸÉÿ≥",
                desc: "ÿ™Ÿäÿ™ÿßŸÜŸäŸàŸÖ ÿ∑ÿ®ŸäÿπŸäÿå 256 ÿ¨Ÿäÿ¨ÿßÿå ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ŸÜÿ∏ŸäŸÅ ÿ¨ÿØÿßŸã ŸÖÿπ ÿßŸÑŸÉÿ±ÿ™ŸàŸÜ.",
                region: "ÿßŸÑÿ±Ÿäÿßÿ∂",
                price: "4,200 ÿ±ŸäÿßŸÑ",
                phone: "966500000000",
                images: [
                    "https://images.unsplash.com/photo-1695048133142-1a20484d2569?w=800&auto=format&fit=crop",
                ]
            },
            {
                id: 2,
                title: "ÿ™ŸàŸäŸàÿ™ÿß ŸÉÿßŸÖÿ±Ÿä 2023",
                desc: "ŸÅŸÑ ŸÉÿßŸÖŸÑ ŸáÿßŸäÿ®ÿ±ÿØÿå ŸÖŸÖÿ¥Ÿâ ŸÇŸÑŸäŸÑÿå ÿ®ŸàÿØŸä ŸàŸÉÿßŸÑÿ© ÿÆÿßŸÑŸä ŸÖŸÜ ÿßŸÑÿ±ÿ¥.",
                region: "ÿ¨ÿØÿ©",
                price: "95,000 ÿ±ŸäÿßŸÑ",
                phone: "966500000000",
                images: [
                    "https://images.unsplash.com/photo-1621007947382-bb3c3968e3bb?w=800&auto=format&fit=crop",
                    "https://images.unsplash.com/photo-1550355291-bbee04a92027?w=800&auto=format&fit=crop",
                    "https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=800&auto=format&fit=crop"
                ]
            },
            {
                id: 3,
                title: "ŸÉŸÜÿ® ŸÖŸàÿØÿ±ŸÜ ÿ≠ÿ±ŸÅ L",
                desc: "ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿ®ÿ≥Ÿäÿ∑ ÿ¨ÿØÿßŸãÿå ŸÇŸÖÿßÿ¥ ŸÖÿÆŸÖŸÑ ŸÅÿßÿÆÿ±ÿå ŸÑŸàŸÜ ÿ±ŸÖÿßÿØŸä.",
                region: "ÿßŸÑÿØŸÖÿßŸÖ",
                price: "1,500 ÿ±ŸäÿßŸÑ",
                phone: "966500000000",
                images: [
                    "https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=800&auto=format&fit=crop",
                    "https://images.unsplash.com/photo-1493663284031-b7e3aefcae8e?w=800&auto=format&fit=crop"
                ]
            },
            {
                id: 4,
                title: "ŸÇÿ∑ÿ∑ ÿ≥ŸÉŸàÿ™ÿ¥ ŸÅŸàŸÑÿØ",
                desc: "ŸÖÿ∑ÿπŸÖÿ© ŸàŸÖÿØÿ±ÿ®ÿ© ŸÑÿπŸàÿ®ÿ© ÿ¨ÿØÿßŸã.",
                region: "ÿßŸÑÿÆÿ®ÿ±",
                price: "800 ÿ±ŸäÿßŸÑ",
                phone: "966500000000",
                images: [
                    "https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=800&auto=format&fit=crop",
                    "https://images.unsplash.com/photo-1573865526739-10659fec78a5?w=800&auto=format&fit=crop"
                ]
            },
            {
                id: 5,
                title: "ÿ≥ŸàŸÜŸä ÿ®ŸÑÿßŸäÿ≥ÿ™Ÿäÿ¥ŸÜ 5",
                desc: "ŸÜÿ≥ÿÆÿ© ÿßŸÑŸÇÿ±ÿµÿå ŸÖÿπ ŸäÿØŸäŸÜ ÿ™ÿ≠ŸÉŸÖ Ÿàÿ¥ÿ±Ÿäÿ∑ ŸÅŸäŸÅÿß 24.",
                region: "ŸÖŸÉÿ©",
                price: "1,850 ÿ±ŸäÿßŸÑ",
                phone: "966500000000",
                images: [
                    "https://images.unsplash.com/photo-1606144042614-b2417e99c4e3?w=800&auto=format&fit=crop"
                ]
            },
            {
                id: 6,
                title: "ÿ¥ŸÇÿ© ŸÅÿßÿÆÿ±ÿ© ŸÑŸÑÿ•Ÿäÿ¨ÿßÿ±",
                desc: "3 ÿ∫ÿ±ŸÅ ŸàÿµÿßŸÑÿ©ÿå ŸÖÿ∑ÿ®ÿÆ ÿ±ÿßŸÉÿ®ÿå ŸÖŸÉŸäŸÅÿßÿ™ ÿ≥ÿ®ŸÑŸäÿ™ÿå ŸÖŸàŸÇÿπ ŸÖŸÖŸäÿ≤.",
                region: "ÿßŸÑÿ±Ÿäÿßÿ∂",
                price: "45,000 ÿ±ŸäÿßŸÑ",
                phone: "966500000000",
                images: [
                    "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800&auto=format&fit=crop",
                    "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=800&auto=format&fit=crop"
                ]
            }
        ];

        // --- Categories feature start ---
        const productsWithCategory = products.map(p => {
            let category = '';
            if (p.title.includes('ÿ¢ŸäŸÅŸàŸÜ') || p.title.includes('ÿ≥ŸàŸÜŸä') ) category = 'ÿ£ÿ¨Ÿáÿ≤ÿ© ÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸäÿ©';
            else if (p.title.includes('ÿ™ŸàŸäŸàÿ™ÿß') ) category = 'ÿ≥Ÿäÿßÿ±ÿßÿ™';
            else if (p.title.includes('ŸÉŸÜÿ®') ) category = 'ÿ£ÿ´ÿßÿ´';
            else if (p.title.includes('ŸÇÿ∑ÿ∑') ) category = 'ÿ≠ŸäŸàÿßŸÜÿßÿ™';
            else if (p.title.includes('ÿ¥ŸÇÿ©') ) category = 'ÿπŸÇÿßÿ±ÿßÿ™';
            else category = 'ÿ£ÿÆÿ±Ÿâ';
            return {...p, category};
        });

        const categoryContainer = document.getElementById('categories');
        const categories = ['ÿßŸÑŸÉŸÑ', ...new Set(productsWithCategory.map(p => p.category))];

        categories.forEach(cat => {
            const btn = document.createElement('button');
            btn.innerText = cat;
            btn.className = "bg-gray-100 text-gray-800 text-sm px-3 py-1 rounded-sm hover:bg-gold-400 hover:text-white transition";
            btn.onclick = () => filterByCategory(cat);
            categoryContainer.appendChild(btn);
        });

        function filterByCategory(category) {
            const grid = document.getElementById("grid");
            grid.innerHTML = "";

            const filtered = category === 'ÿßŸÑŸÉŸÑ' ? productsWithCategory : productsWithCategory.filter(p => p.category === category);
            
            filtered.forEach(p => {
                const sliderImages = p.images.map(img => 
                    `<img src="${img}" class="slider-item" onclick="viewImg(this)" loading="lazy" alt="${p.title}">`
                ).join("");

                const dots = p.images.length > 1 ? 
                    `<div class="dots">
                        ${p.images.map((_, i) => `<div class="dot ${i === 0 ? 'active' : ''}"></div>`).join("")}
                     </div>` : "";

                const controls = p.images.length > 1 ? `
                    <div class="arrow left" onclick="slide(this, -1)">‚Äπ</div>
                    <div class="arrow right" onclick="slide(this, 1)">‚Ä∫</div>
                    <div class="counter text-xs tracking-widest">1 / ${p.images.length}</div>
                    ${dots}
                ` : "";

                const html = `
                <div class="product-box flex flex-col bg-white rounded-sm overflow-hidden shadow-sm border border-gray-100 h-full hover:shadow-xl hover:border-gold-200 transition-all duration-500 group">
                    
                    <div class="relative h-64 overflow-hidden bg-gray-100">
                        ${controls}
                        <div class="slider-container no-scrollbar" onscroll="updateUI(this)">
                            ${sliderImages}
                        </div>
                        <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"></div>
                    </div>

                    <div class="p-5 flex flex-col flex-grow text-right relative">
                        <div class="mt-2 mb-3">
                            <h3 class="font-bold text-gray-900 text-lg leading-tight group-hover:text-gold-600 transition-colors">${p.title}</h3>
                        </div>
                        
                        <p class="text-xs text-gray-500 font-normal mb-4 line-clamp-2 leading-relaxed tracking-wide border-b border-gray-50 pb-4">
                            ${p.desc}
                        </p>
                        
                        <div class="mt-auto">
                            <div class="flex items-center text-[11px] text-gray-400 mb-4 font-medium">
                                <span class="ml-1 text-gold-500">üìç</span> ${p.region}
                            </div>
                            
                            <div class="flex items-center justify-between pt-2">
                                <div class="font-bold text-xl text-gray-800">
                                    ${p.price}
                                </div>
                                
                                <a href="https://wa.me/${p.phone}?text=ÿßŸÑÿ≥ŸÑÿßŸÖ ÿπŸÑŸäŸÉŸÖÿå ÿ®ÿÆÿµŸàÿµ ÿ•ÿπŸÑÿßŸÜ ${p.title}" target="_blank"
                                   class="bg-black hover:bg-gray-800 text-white py-2 px-4 rounded-sm text-[11px] font-bold flex items-center transition-all duration-300 shadow-md">
                                    <span class="ml-2">ÿ™ŸàÿßÿµŸÑ ŸÖÿπ ÿßŸÑÿ®ÿßÿ¶ÿπ</span>
                                    <svg class="w-3.5 h-3.5 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="..."/></svg>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                `;
                grid.insertAdjacentHTML("beforeend", html);
            });
        }

        // Show all products initially
        filterByCategory('ÿßŸÑŸÉŸÑ');
        // --- Categories feature end ---

        function slide(el, dir) {
            const slider = el.parentElement.querySelector(".slider-container");
            const scrollAmount = slider.offsetWidth;
            slider.scrollBy({
                left: dir * scrollAmount * -1, 
                behavior: "smooth"
            });
        }

        function updateUI(slider) {
            const box = slider.parentElement.parentElement;
            const imgs = slider.children.length;
            let scrollLeft = Math.abs(slider.scrollLeft);
            const index = Math.round(scrollLeft / slider.offsetWidth);
            const dots = box.querySelectorAll(".dot");
            dots.forEach((d, i) => d.classList.toggle("active", i === index));
            const counter = box.querySelector(".counter");
            if (counter) counter.innerText = `${Math.min(index + 1, imgs)} / ${imgs}`;
        }

        function viewImg(img) {
            const modal = document.getElementById("imgModal");
            const modalImg = document.getElementById("modalContent");
            modal.style.display = "flex";
            modalImg.src = img.src;
        }

        function closeModal() {
            document.getElementById("imgModal").style.display = "none";
        }

        function doSearch() {
            const input = document.getElementById("searchInput");
            const filter = input.value.toLowerCase().trim();
            const boxes = document.querySelectorAll(".product-box");
            let hasResults = false;
            const searchTerms = filter.split(" ");

            boxes.forEach(box => {
                const text = box.innerText.toLowerCase();
                const match = searchTerms.every(term => text.includes(term));
                if (match) {
                    box.style.display = "flex";
                    hasResults = true;
                } else {
                    box.style.display = "none";
                }
            });

            const noResultsMsg = document.getElementById("noResults");
            if (!hasResults && filter !== "") {
                noResultsMsg.classList.remove("hidden");
            } else {
                noResultsMsg.classList.add("hidden");
            }
        }
    </script>
</body>
</html>
